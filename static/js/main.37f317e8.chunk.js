(this["webpackJsonpgt-scheduler"]=this["webpackJsonpgt-scheduler"]||[]).push([[0],{227:function(e,t,n){e.exports=n(520)},249:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},310:function(e,t,n){},311:function(e,t,n){},312:function(e,t,n){},313:function(e,t,n){},314:function(e,t,n){},315:function(e,t,n){},316:function(e,t,n){},317:function(e,t,n){},318:function(e,t,n){},319:function(e,t,n){},320:function(e,t,n){},340:function(e,t){},354:function(e,t){},356:function(e,t){},517:function(e,t,n){},519:function(e,t,n){},520:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(54),i=n.n(c),o=n(8),s=n(1),u=n(56),l=n.n(u),d=n(4),f=["M","T","W","R","F"],m=[["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF"],["#333333","#808080","#CCCCCC","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF"],["#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]],b={"Hybrid Course":"Hybrid","Remote Synchronous Course":"Remote Synchronous","Remote Asynchronous Course":"Remote Asynchronous","Residential Course":"Residential"},p={"Georgia Tech-Atlanta *":"Atlanta","GT Lorraine-Undergrad Programs":"Lorraine Undergrad","GT Lorraine-Graduate Programs":"Lorraine Graduate","Georgia Tech - Shenzhen":"Shenzhen",Video:"Video",Online:"Online","MBA Evening Program":"MBA Evening"},v=function(e){var t=/(\d{1,2}):(\d{2}) (a|p)m/.exec(e),n=Object(s.a)(t,4),a=n[1],r=n[2];return 60*(("p"===n[3]?12:0)+ +a%12)+ +r},h=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e/60|0,a=e%60,r=n>12?n-12:n,c="".concat(a).padStart(2,"0"),i="".concat(n<12?"a":"p","m");return t?"".concat(r,":").concat(c," ").concat(i):"".concat(r,":").concat(c)},E=function(e){return e?"".concat(h(e.start,!1)," - ").concat(h(e.end)):"TBA"},g=function(){var e=m.flat();return e[Math.random()*e.length|0]},O=function(e){return.299*parseInt(e.substring(1,3),16)+.587*parseInt(e.substring(3,5),16)+.114*parseInt(e.substring(5,7),16)>128?"light-content":"dark-content"},j=function(e,t){return e.meetings.some((function(e){return t.meetings.some((function(t){return e.period&&t.period&&f.some((function(n){return e.days.includes(n)&&t.days.includes(n)}))&&e.period.start<t.period.end&&t.period.start<e.period.end}))}))},y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")},C=function(){return window.innerWidth<1024},N=function(e){var t=e.split(" ");return[t.shift(),t.pop()].join(" ")},k=function(e){return Object(d.a)(new Set(e))},w=function(e){return["Lab","Studio"].some((function(t){return e.scheduleType.includes(t)}))},S=function(e){return e.scheduleType.includes("Lecture")},x=function(e){var t=e.substring(0,4),n=function(){switch(Number.parseInt(e.substring(4))){case 1:return"Winter";case 2:case 3:return"Spring";case 5:case 6:return"Summer";case 8:case 9:return"Fall";default:return"Unknown"}}();return"".concat(n," ").concat(t)},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and";if(e.length<=2)return e.join(" ".concat(t," "));var n=Object(d.a)(e),a=n.pop();return"".concat(n.join(", "),", ").concat(t," ").concat(a)},T=n(58),M=(n(249),n(17));function D(e){var t=e.className,n=e.label,a=e.children,c=e.actions,i=Object(T.a)(e,["className","label","children","actions"]);return r.a.createElement("div",Object.assign({className:y("ActionRow",t)},i),r.a.createElement("div",{className:"action-row-header"},r.a.createElement("div",{className:"label"},n),r.a.createElement("div",{className:y("actions","default")},c.filter((function(e){return e})).map((function(e,t){var n=e.icon,a=Object(T.a)(e,["icon"]);return r.a.createElement(I,Object.assign({className:"action"},a,{key:t}),r.a.createElement(M.a,{fixedWidth:!0,icon:n}))})))),a)}var L=n(220),R=n.n(L);n(256);function I(e){var t=e.className,n=e.disabled,a=e.text,c=e.href,i=e.onClick,o=e.children;return n?r.a.createElement("div",{className:y("Button","disabled")},o):c?r.a.createElement("a",{className:y("Button",t),href:c,rel:"noopener noreferrer",target:"_blank"},o):a?r.a.createElement(R.a,{text:a},r.a.createElement("div",{className:y("Button",t)},o)):r.a.createElement("div",{className:y("Button",t),onClick:i},o)}n(257);var B=r.a.createContext(null),F=r.a.createContext(null),W=r.a.createContext(null),U=r.a.createContext(null);function G(e){var t=e.className,n=e.overlayCrns,c=e.preview,i=e.capture,o=Object(a.useContext)(W),u=Object(s.a)(o,1)[0].pinnedCrns;return r.a.createElement("div",{className:y("Calendar",i&&"capture",c&&"preview",t)},!c&&r.a.createElement("div",{className:"times"},new Array(13).fill(0).map((function(e,t){var n=480+60*t;return r.a.createElement("div",{className:"time",key:n},r.a.createElement("span",{className:"label"},function(e){var t=e/60|0;return"".concat(t>12?t-12:t).concat(t<12?"a":"p","m")}(n)))}))),!c&&r.a.createElement("div",{className:"days"},f.map((function(e){return r.a.createElement("div",{className:"day",key:e},r.a.createElement("span",{className:"label"},e))}))),r.a.createElement("div",{className:"meetings"},u.map((function(e){return r.a.createElement(ue,{key:e,crn:e,preview:c,capture:i})})),n&&n.filter((function(e){return!u.includes(e)})).map((function(e){return r.a.createElement(ue,{key:e,crn:e,overlay:!c,preview:c,capture:i})}))))}var H=n(124);n(61),n(310);function _(e){var t=Object(a.useContext)(W),n=Object(s.a)(t,2),c=n[0],i=c.oscar,o=c.desiredCourses,u=c.pinnedCrns,l=c.excludedCrns,f=c.sortingOptionIndex,m=n[1].patchTermData,b=Object(a.useContext)(U),p=Object(s.a)(b,2)[1],v=Object(a.useCallback)((function(){window.confirm("Are you sure to reset sections you selected?")&&m({pinnedCrns:[]})}),[m]),h=Object(a.useMemo)((function(){return i.getCombinations(o,u,l)}),[i,o,u,l]),E=Object(a.useMemo)((function(){return i.sortCombinations(h,f)}),[i,h,f]);return r.a.createElement("div",{className:"CombinationContainer"},r.a.createElement(se,{onChange:function(e){return m({sortingOptionIndex:e})},value:f,options:i.sortingOptions.map((function(e,t){return{value:t,label:e.label}}))}),r.a.createElement(I,{className:"reset",onClick:v,disabled:0===u.length},"Reset Sections"),r.a.createElement("div",{className:"scroller"},r.a.createElement(H.AutoSizer,null,(function(e){var t=e.width,n=e.height;return r.a.createElement(H.List,{width:t,height:n,style:{outline:"none"},rowCount:E.length,rowHeight:108,rowRenderer:function(e){var t=e.index,n=e.key,a=e.style,c=E[t].crns;return r.a.createElement("div",{className:"list-item",style:a,key:n},r.a.createElement("div",{className:"combination",onMouseEnter:function(){return p(c)},onMouseLeave:function(){return p([])},onClick:function(){return m({pinnedCrns:[].concat(Object(d.a)(u),Object(d.a)(c))})}},r.a.createElement("div",{className:"number"},t+1),r.a.createElement(G,{className:"calendar-preview",overlayCrns:c,preview:!0})))}})}))))}var P=n(5);n(311);function Y(e){var t=e.className,n=e.courseId,c=e.onAddCourse,i=Object(a.useState)(!1),u=Object(s.a)(i,2),l=u[0],d=u[1],f=Object(a.useState)(!1),m=Object(s.a)(f,2),b=m[0],p=m[1],v=Object(a.useState)({}),h=Object(s.a)(v,2),E=h[0],g=h[1],j=Boolean(c),C=Object(a.useContext)(W),N=Object(s.a)(C,2),k=N[0],w=k.oscar,S=k.term,x=k.desiredCourses,A=k.pinnedCrns,T=k.excludedCrns,M=k.colorMap,L=N[1].patchTermData;Object(a.useEffect)((function(){j||w.findCourse(n).fetchGpa().then(g)}),[j,w,n]);var R=Object(a.useCallback)((function(e){L({desiredCourses:x.filter((function(t){return t!==e.id})),pinnedCrns:A.filter((function(t){return!e.sections.some((function(e){return e.crn===t}))})),excludedCrns:T.filter((function(t){return!e.sections.some((function(e){return e.crn===t}))})),colorMap:Object(o.a)(Object(o.a)({},M),{},{[e.id]:void 0})})}),[x,A,T,M,L]),I=Object(a.useCallback)((function(e){var t=e.map((function(e){return e.crn}));L({excludedCrns:T.filter((function(e){return!t.includes(e)}))})}),[T,L]),B=w.findCourse(n),F=M[B.id],U=F&&O(F),G={};B.sections.forEach((function(e){var t=Object(s.a)(e.instructors,1)[0],n=void 0===t?"Not Assigned":t;n in G||(G[n]=[]),G[n].push(e)}));var H=Object.keys(G),_=H.filter((function(e){return G[e].every((function(e){return T.includes(e.crn)}))})),Y=H.filter((function(e){return!_.includes(e)})),V={icon:P.h,href:"https://oscar.gatech.edu/pls/bprod/bwckctlg.p_disp_course_detail?cat_term_in=".concat(S,"&subj_code_in=").concat(B.subject,"&crse_numb_in=").concat(B.number)},q=B.sections.filter((function(e){return A.includes(e.crn)})),z=q.reduce((function(e,t){return e+t.credits}),0);return r.a.createElement("div",{className:y("Course",U,"default",t),style:{backgroundColor:F},key:B.id},r.a.createElement(D,{label:[B.id,q.map((function(e){return e.id})).join(", ")].join(" "),actions:j?[{icon:P.k,onClick:c},V]:[{icon:l?P.c:P.b,onClick:function(){return d(!l)}},V,{icon:P.i,onClick:function(){return p(!b)}},{icon:P.n,onClick:function(){return R(B)}}]},r.a.createElement("div",{className:"course-row"},r.a.createElement("span",{className:"course-title",dangerouslySetInnerHTML:{__html:B.title}}),r.a.createElement("span",{className:"section-crns"},q.map((function(e){return e.crn})).join(", "))),!j&&r.a.createElement("div",{className:"course-row"},r.a.createElement("span",{className:"gpa"},"Course GPA: ",E.averageGpa||"N/A"),z>0&&r.a.createElement("span",{className:"credits"},z," Credits")),b&&r.a.createElement(ie,{className:"palette",onSelectColor:function(e){return L({colorMap:Object(o.a)(Object(o.a)({},M),{},{[n]:e})})},color:F,onMouseLeave:function(){return p(!1)}})),l&&r.a.createElement("div",{className:y("instructor-container","nested")},Y.map((function(e){return r.a.createElement(ce,{key:e,color:F,name:e,sections:G[e],gpa:E[e]})})),_.length>0&&r.a.createElement("div",{className:"excluded-instructor-container"},_.map((function(e){return r.a.createElement("span",{className:"excluded-instructor",key:e,onClick:function(){return I(G[e])}},e)})))))}n(312);function V(e){var t=e.className,n=Object(a.useContext)(W),c=Object(s.a)(n,2),i=c[0],u=i.oscar,l=i.desiredCourses,f=i.excludedCrns,m=i.colorMap,v=c[1].patchTermData,h=Object(a.useState)(""),E=Object(s.a)(h,2),O=E[0],j=E[1],C=Object(a.useState)({deliveryMode:[],campus:[]}),N=Object(s.a)(C,2),k=N[0],w=N[1],S=Object(a.useState)(0),x=Object(s.a)(S,2),A=x[0],T=x[1],D=Object(a.useRef)(null),L=Object(a.useCallback)((function(e){var t=e.target.value.trim(),n=t.match(/^([A-Z]+)(\d.*)$/i);if(n){var a=Object(s.a)(n,3),r=a[1],c=a[2];t="".concat(r," ").concat(c)}j(t)}),[]),R=Object(a.useMemo)((function(){var e=/^([A-Z]+) ?((\d.*)?)$/i.exec(O.toUpperCase());if(!e)return[];var t=Object(s.a)(e,3),n=t[1],a=t[2];return T(0),u.courses.filter((function(e){var t=e.subject===n&&e.number.startsWith(a),r=Object.entries(k).every((function(t){var n=Object(s.a)(t,2),a=n[0],r=n[1];return 0===r.length||e.sections.some((function(e){return r.includes(e[a])}))}));return t&&r})).filter((function(e){return!l.includes(e.id)}))}),[u,O,k,l]),I=Object(a.useCallback)((function(e){if(!l.includes(e.id)){var t=e.sections.filter((function(e){var t="Remote Asynchronous Course"===e.deliveryMode||e.meetings.length&&e.meetings.every((function(e){return e.days.length&&e.period})),n=Object.entries(k).every((function(t){var n=Object(s.a)(t,2),a=n[0],r=n[1];return 0===r.length||r.includes(e[a])}));return!t||!n})).map((function(e){return e.crn}));v({desiredCourses:[].concat(Object(d.a)(l),[e.id]),excludedCrns:[].concat(Object(d.a)(f),Object(d.a)(t)),colorMap:Object(o.a)(Object(o.a)({},m),{},{[e.id]:g()})}),j(""),D.current.focus()}}),[k,l,f,m,D,v]),B=Object(a.useCallback)((function(e){switch(e.key){case"Enter":var t=R[A];t&&I(t);break;case"ArrowDown":T(Math.min(A+1,R.length-1));break;case"ArrowUp":T(Math.max(A-1,0));break;default:return}e.preventDefault()}),[R,I,A]),F=Object(a.useCallback)((function(e,t){var n=k[e];w(Object(o.a)(Object(o.a)({},k),{},{[e]:n.includes(t)?n.filter((function(e){return e!==t})):[].concat(Object(d.a)(n),[t])}))}),[k]),U=Object(a.useCallback)((function(e){w(Object(o.a)(Object(o.a)({},k),{},{[e]:[]}))}),[k]),G=R[A];return r.a.createElement("div",{className:y("CourseAdd",t)},r.a.createElement("div",{className:"add"},r.a.createElement("div",{className:"primary"},r.a.createElement(M.a,{className:y("icon",R.length&&"active"),fixedWidth:!0,icon:P.k}),r.a.createElement("div",{className:"keyword-wrapper"},G&&r.a.createElement("div",{className:y("keyword","autocomplete")},G.id),r.a.createElement("input",{type:"text",ref:D,value:O,onChange:L,className:"keyword",placeholder:"XX 0000",onKeyDown:B}))),[["Delivery Mode","deliveryMode",b],["Campus","campus",p]].map((function(e){var t=Object(s.a)(e,3),n=t[0],a=t[1],c=t[2];return r.a.createElement(K,{key:a,name:n,labels:c,selectedTags:k[a],onReset:function(){return U(a)},onToggle:function(e){return F(a,e)}})}))),R.length>0?R.map((function(e){return r.a.createElement(Y,{key:e.id,className:e===G&&"active",courseId:e.id,pinnedCrns:[],onAddCourse:function(){return I(e)}})})):r.a.createElement("div",{className:"disclaimer"},"Disclaimer: GT Scheduler should be used as general reference only, and users are solely responsible for ensuring any information including registration restrictions."))}var q=n(221),z=n.n(q);n(313);function J(e){var t=Object(a.useContext)(W),n=Object(s.a)(t,1)[0],c=n.oscar,i=n.desiredCourses;return r.a.createElement("div",{className:"CourseContainer"},r.a.createElement("div",{className:"scroller"},r.a.createElement("div",{className:"course-list"},i.map((function(e){return r.a.createElement(Y,{courseId:e,expandable:!0,key:e})}))),r.a.createElement(V,{className:"course-add"})),r.a.createElement(I,{className:"updated-at",href:"https://github.com/64json/gt-schedule-crawler"},"Course data fetched ",z()(c.updatedAt)))}n(314);function K(e){var t=e.name,n=e.labels,c=e.selectedTags,i=e.onReset,o=e.onToggle,u=Object(a.useState)(!1),l=Object(s.a)(u,2),d=l[0],f=l[1];return r.a.createElement("div",{className:"CourseFilter"},r.a.createElement("div",{className:y("header",c.length>0&&"active"),onClick:function(){return f(!d)}},!d&&c.length>0?r.a.createElement("div",{className:"name",dangerouslySetInnerHTML:{__html:A(c.map((function(e){return n[e]})),'<span class="or">or</span>')}}):r.a.createElement("div",{className:"name"},t),r.a.createElement(M.a,{fixedWidth:!0,icon:d?P.c:P.b})),d&&r.a.createElement("div",{className:"tag-container"},r.a.createElement("div",{className:y("tag",0===c.length&&"active"),onClick:i},"All"),Object.keys(n).map((function(e){return r.a.createElement("div",{key:e,className:y("tag",c.includes(e)&&"active"),property:e,onClick:function(){return o(e)}},n[e])}))))}n(315);var X=n(224),$=n(57),Z=n.n($),Q=n(222),ee=n.n(Q),te=n(223),ne=n.n(te),ae=function(e,t){if(!(navigator.userAgent.indexOf("MSIE")>-1&&-1===navigator.userAgent.indexOf("MSIE 10"))){"undefined"===typeof e&&(e="default"),"undefined"===typeof t&&(t="Calendar");var n=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",a=[],r=["BEGIN:VCALENDAR","PRODID:".concat(t),"VERSION:2.0"].join(n),c="".concat(n,"END:VCALENDAR"),i=["SU","MO","TU","WE","TH","FR","SA"];return{events:()=>a,calendar:()=>r+n+a.join(n)+c,addEvent(t,r,c,o,s,u){if("undefined"===typeof t||"undefined"===typeof r||"undefined"===typeof c||"undefined"===typeof o||"undefined"===typeof s)return!1;if(u&&!u.rrule){if("YEARLY"!==u.freq&&"MONTHLY"!==u.freq&&"WEEKLY"!==u.freq&&"DAILY"!==u.freq)throw new Error("Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'");if(u.until&&isNaN(Date.parse(u.until)))throw new Error("Recurrence rrule 'until' must be a valid date string");if(u.interval&&isNaN(parseInt(u.interval)))throw new Error("Recurrence rrule 'interval' must be an integer");if(u.count&&isNaN(parseInt(u.count)))throw new Error("Recurrence rrule 'count' must be an integer");if("undefined"!==typeof u.byday){if("[object Array]"!==Object.prototype.toString.call(u.byday))throw new Error("Recurrence rrule 'byday' must be an array");if(u.byday.length>7)throw new Error("Recurrence rrule 'byday' array must not be longer than the 7 days in a week");for(var l in u.byday=u.byday.filter((function(e,t){return u.byday.indexOf(e)===t})),u.byday)if(i.indexOf(u.byday[l])<0)throw new Error("Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'")}}var d=new Date(o),f=new Date(s),m=new Date,b="0000".concat(d.getFullYear().toString()).slice(-4),p="00".concat((d.getMonth()+1).toString()).slice(-2),v="00".concat(d.getDate().toString()).slice(-2),h="00".concat(d.getHours().toString()).slice(-2),E="00".concat(d.getMinutes().toString()).slice(-2),g="00".concat(d.getSeconds().toString()).slice(-2),O="0000".concat(f.getFullYear().toString()).slice(-4),j="00".concat((f.getMonth()+1).toString()).slice(-2),y="00".concat(f.getDate().toString()).slice(-2),C="00".concat(f.getHours().toString()).slice(-2),N="00".concat(f.getMinutes().toString()).slice(-2),k="00".concat(f.getSeconds().toString()).slice(-2),w="0000".concat(m.getFullYear().toString()).slice(-4),S="00".concat((m.getMonth()+1).toString()).slice(-2),x="00".concat(m.getDate().toString()).slice(-2),A="00".concat(m.getHours().toString()).slice(-2),T="00".concat(m.getMinutes().toString()).slice(-2),M="00".concat(m.getSeconds().toString()).slice(-2),D="",L="";h+E+g+C+N+k!==0&&(D="T".concat(h).concat(E).concat(g),L="T".concat(C).concat(N).concat(k));var R,I=b+p+v+D,B=O+j+y+L,F=w+S+x+"T".concat(A).concat(T).concat(M);if(u)if(u.rrule)R=u.rrule;else{if(R="RRULE:FREQ=".concat(u.freq),u.until){var W=new Date(Date.parse(u.until)).toISOString();R+=";UNTIL=".concat(W.substring(0,W.length-13).replace(/[-]/g,""),"000000Z")}u.interval&&(R+=";INTERVAL=".concat(u.interval)),u.count&&(R+=";COUNT=".concat(u.count)),u.byday&&u.byday.length>0&&(R+=";BYDAY=".concat(u.byday.join(",")))}var U=["BEGIN:VEVENT","UID:".concat(a.length,"@").concat(e),"CLASS:PUBLIC","DESCRIPTION:".concat(r),"DTSTAMP;VALUE=DATE-TIME:".concat(F),"DTSTART;VALUE=DATE-TIME:".concat(I),"DTEND;VALUE=DATE-TIME:".concat(B),"LOCATION:".concat(c),"SUMMARY;LANGUAGE=en-us:".concat(t),"TRANSP:TRANSPARENT","END:VEVENT"];return R&&U.splice(4,0,R),U=U.join(n),a.push(U),U},download(e,t){if(a.length<1)return!1;t="undefined"!==typeof t?t:".ics",e="undefined"!==typeof e?e:"calendar";var i,o=r+n+a.join(n)+c;if(-1===navigator.userAgent.indexOf("MSIE 10"))i=new Blob([o]);else{var s=new BlobBuilder;s.append(o),i=s.getBlob("text/x-vCalendar;charset=".concat(document.characterSet))}return saveAs(i,e+t),o},build:()=>!(a.length<1)&&r+n+a.join(n)+c}}console.log("Unsupported Browser")};function re(e){var t=Object(a.useContext)(W),n=Object(s.a)(t,2),c=n[0],i=c.term,o=c.oscar,u=c.pinnedCrns,l=n[1].setTerm,d=Object(a.useContext)(F),f=Object(s.a)(d,1)[0],m=Object(a.useContext)(B),b=Object(s.a)(m,2),p=b[0],v=b[1],h=Object(a.useRef)(null),E=Object(a.useCallback)((function(){var e="light"===p?"dark":"light";Z.a.set("theme",e,{expires:1460}),v(e)}),[p,v]),g=Object(a.useMemo)((function(){return u.reduce((function(e,t){return e+o.findSection(t).credits}),0)}),[u,o]),O=Object(a.useCallback)((function(){var e=ae();u.forEach((function(t){var n=o.findSection(t);n.meetings.forEach((function(t){if(t.period&&t.days.length){for(var a=t.dateRange,r=a.from,c=a.to,i=n.course.id,o=n.course.title,s=t.where,u=new Date(r.getTime());!t.days.includes(["-","M","T","W","R","F","-"][u.getDay()]);)u.setDate(u.getDate()+1);u.setHours(t.period.start/60|0,t.period.start%60);var l=new Date(u.getTime());l.setHours(t.period.end/60|0,t.period.end%60);var d={freq:"WEEKLY",until:c,byday:t.days.map((function(e){return{M:"MO",T:"TU",W:"WE",R:"TH",F:"FR"}[e]}))};e.addEvent(i,o,s,u,l,d)}}))})),e.download("gt-scheduler")}),[o,u]),j=Object(a.useCallback)((function(){var e=h.current;ee.a.toPng(e,{width:2*e.offsetWidth,height:2*e.offsetHeight,style:{left:0,transform:"scale(".concat(2,")"),"transform-origin":"top left"}}).then((function(e){return ne()(e,"schedule.png")}))}),[h]);return r.a.createElement("div",{className:"Header"},r.a.createElement(I,{className:"logo"},r.a.createElement("span",{className:"gt"},"GT "),r.a.createElement("span",{className:"scheduler"},"Scheduler")),r.a.createElement(se,{onChange:l,value:i,options:f.map((function(e){return{value:e,label:x(e)}})),className:"semester"}),r.a.createElement("span",{className:"credits"},g," Credits"),r.a.createElement("div",{className:"menu"},r.a.createElement(I,{onClick:j,disabled:0===u.length},r.a.createElement(M.a,{className:"icon",fixedWidth:!0,icon:P.g}),r.a.createElement("div",{className:"text"},"Download")),r.a.createElement(I,{onClick:O,disabled:0===u.length},r.a.createElement(M.a,{className:"icon",fixedWidth:!0,icon:P.e}),r.a.createElement("div",{className:"text"},"Export")),r.a.createElement(I,{text:u.join(", "),disabled:0===u.length},r.a.createElement(M.a,{className:"icon",fixedWidth:!0,icon:P.j}),r.a.createElement("div",{className:"text"},"CRNs")),r.a.createElement(I,{onClick:E},r.a.createElement(M.a,{className:"icon",fixedWidth:!0,icon:P.a}),r.a.createElement("div",{className:"text"},"Theme")),r.a.createElement(I,{href:"https://github.com/64json/gt-scheduler"},r.a.createElement(M.a,{className:"icon",fixedWidth:!0,icon:X.a}),r.a.createElement("div",{className:"text"},"GitHub"))),r.a.createElement("div",{className:"capture-container",ref:h},r.a.createElement(G,{className:"fake-calendar",capture:!0})))}n(316);function ce(e){var t=e.className,n=e.color,c=e.name,i=e.sections,o=e.gpa,u=Object(a.useContext)(W),l=Object(s.a)(u,2),f=l[0],m=f.pinnedCrns,b=f.excludedCrns,p=l[1].patchTermData,v=Object(a.useState)(!0),h=Object(s.a)(v,2),E=h[0],g=h[1],O=Object(a.useCallback)((function(e){p({excludedCrns:b.filter((function(t){return t!==e.crn}))})}),[b,p]),j=Object(a.useCallback)((function(e){var t=e.map((function(e){return e.crn}));p({excludedCrns:k([].concat(Object(d.a)(b),Object(d.a)(t))),pinnedCrns:m.filter((function(e){return!t.includes(e)}))})}),[b,m,p]),C=i.some((function(e){return m.includes(e.crn)})),w=i.filter((function(e){return!b.includes(e.crn)})),S=i.filter((function(e){return b.includes(e.crn)}));return r.a.createElement("div",{className:y("Instructor",!E&&"divider-bottom",t)},r.a.createElement(D,{label:c||"Not Assigned",actions:[{icon:E?P.c:P.b,onClick:function(){return g(!E)}},!["TBA","Not Assigned"].includes(c)&&{icon:P.h,href:"http://www.ratemyprofessors.com/search.jsp?queryBy=teacherName&schoolName=Georgia+Institute+of+Technology&query=".concat(encodeURIComponent(N(c)))},{icon:P.d,onClick:function(){return j(i)}}],style:C?{backgroundColor:n}:void 0},r.a.createElement("div",{className:"instructor-row"},r.a.createElement("span",{className:"gpa"},"Instructor GPA: ",o||"N/A"))),E&&r.a.createElement("div",{className:y("section-container","nested")},w.map((function(e){var t=m.includes(e.crn);return r.a.createElement(oe,{key:e.id,className:"divider-bottom",section:e,color:n,pinned:t})})),S.length>0&&r.a.createElement("div",{className:"excluded-section-container"},S.map((function(e){return r.a.createElement("span",{className:"excluded-section",key:e.id,onClick:function(){return O(e)}},e.id)})))))}n(317);function ie(e){var t=e.className,n=e.color,a=e.onSelectColor,c=Object(T.a)(e,["className","color","onSelectColor"]);return r.a.createElement("div",Object.assign({className:y("Palette",t)},c),m.map((function(e,t){return r.a.createElement("div",{className:"palette-row",key:t},e.map((function(e){return r.a.createElement("div",{className:y("color",e===n&&"frame"),key:e,style:{backgroundColor:e},onClick:function(){return a(e)}})})))})))}n(318);function oe(e){var t=e.className,n=e.section,c=e.pinned,i=e.color,o=Object(a.useContext)(W),u=Object(s.a)(o,2),l=u[0],f=l.term,m=l.pinnedCrns,p=l.excludedCrns,v=u[1].patchTermData,h=Object(a.useContext)(U),g=Object(s.a)(h,2)[1],O=Object(a.useCallback)((function(e){v({excludedCrns:[].concat(Object(d.a)(p),[e.crn]),pinnedCrns:m.filter((function(t){return t!==e.crn}))})}),[m,p,v]),j=Object(a.useCallback)((function(e){m.includes(e.crn)?v({pinnedCrns:m.filter((function(t){return t!==e.crn}))}):v({pinnedCrns:[].concat(Object(d.a)(m),[e.crn]),excludedCrns:p.filter((function(t){return t!==e.crn}))})}),[m,p,v]);return r.a.createElement(D,{label:n.id,className:y("Section",t),onMouseEnter:function(){return g([n.crn])},onMouseLeave:function(){return g([])},actions:[{icon:c?P.m:P.l,onClick:function(){return j(n)}},{icon:P.h,href:"https://oscar.gatech.edu/pls/bprod/bwckschd.p_disp_detail_sched?term_in=".concat(f,"&crn_in=").concat(n.crn)},{icon:P.d,onClick:function(){return O(n)}}],style:c?{backgroundColor:i}:void 0},r.a.createElement("div",{className:"section-details"},r.a.createElement("div",{className:"delivery-mode"},b[n.deliveryMode]),r.a.createElement("div",{className:"meeting-container"},n.meetings.map((function(e,t){return r.a.createElement("div",{className:"meeting",key:t},r.a.createElement("span",{className:"days"},e.days.join("")),r.a.createElement("span",{className:"period"},E(e.period)))})))))}n(319);function se(e){var t=e.className,n=e.value,c=e.onChange,i=e.options,o=Object(a.useState)(!1),u=Object(s.a)(o,2),l=u[0],d=u[1],f=i.find((function(e){return e.value===n})),m=f?f.label:"-";return r.a.createElement("div",{className:y("Button","Select",t),onClick:function(){return d(!l)}},r.a.createElement("div",{className:"text"},m),r.a.createElement(M.a,{fixedWidth:!0,icon:P.f}),l&&r.a.createElement("div",{className:"intercept",onClick:function(){return d(!1)}}),l&&r.a.createElement("div",{className:"option-container"},i.map((function(e){var t=e.value,n=e.label;return r.a.createElement(I,{className:"option",key:t,onClick:function(){return c(t)}},n)}))))}n(320);function ue(e){var t=e.className,n=e.crn,c=e.overlay,i=e.preview,o=e.capture,u=Object(a.useContext)(W),l=Object(s.a)(u,1)[0],d=l.oscar,f=l.colorMap,m=d.findSection(n),b=f[m.course.id],p=O(b);return r.a.createElement("div",{className:y("TimeBlocks",o&&"capture",c&&"overlay",t)},m.meetings.map((function(e,t){return e.period&&e.days.map((function(n){return r.a.createElement("div",{className:y("meeting",p,"default",n),key:[t,n].join("-"),style:{top:"".concat((e.period.start-480)/780*100,"%"),height:"".concat((e.period.end-e.period.start)/780*100,"%"),backgroundColor:b}},!i&&r.a.createElement("div",{className:"meeting-wrapper"},r.a.createElement("div",{className:"ids"},r.a.createElement("span",{className:"course-id"},m.course.id),r.a.createElement("span",{className:"section-id"},"\xa0",m.id)),r.a.createElement("span",{className:"period"},E(e.period)),r.a.createElement("span",{className:"where"},e.where),r.a.createElement("span",{className:"instructors"},e.instructors.join(", "))))}))})))}var le=n(27),de=n(82),fe=function(){function e(t){var n=this;Object(le.a)(this,e);var a=t.courses,r=t.caches,c=t.updatedAt;this.periods=r.periods.map((function(e){if("TBA"!==e)return{start:v(e.split(" - ")[0]),end:v(e.split(" - ")[1])}})),this.dateRanges=r.dateRanges.map((function(e){var t=e.split(" - ").map((function(e){return new Date(e)})),n=Object(s.a)(t,2),a=n[0],r=n[1];return a.setHours(0),r.setHours(23,59,59,999),{from:a,to:r}})),this.scheduleTypes=r.scheduleTypes,this.campuses=r.campuses,this.attributes=r.attributes,this.gradeBases=r.gradeBases,this.updatedAt=new Date(c),this.courses=Object.keys(a).map((function(e){return new ge(n,e,a[e])})),this.courseMap={},this.crnMap={},this.courses.forEach((function(e){n.courseMap[e.id]=e,e.sections.forEach((function(e){n.crnMap[e.crn]=e}))})),this.sortingOptions=[new je("Most Compact",(function(e){var t=e.startMap,n=e.endMap;return+Object.keys(t).map((function(e){return n[e]-t[e]})).reduce((function(e,t){return e+t}),0)})),new je("Earliest Ending",(function(e){var t=e.endMap,n=Object.values(t);return+(n.reduce((function(e,t){return e+t}),0)/n.length)})),new je("Latest Beginning",(function(e){var t=e.startMap,n=Object.values(t);return-(n.reduce((function(e,t){return e+t}),0)/n.length)}))]}return Object(de.a)(e,[{key:"findCourse",value:function(e){return this.courseMap[e]}},{key:"findSection",value:function(e){return this.crnMap[e]}},{key:"getCombinations",value:function(e,t,n){var a=this,r=[];return function c(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(i!==e.length){var s=a.findCourse(e[i]),u=function(e){return!n.includes(e.crn)},l=function(e){return t.includes(e.crn)},f=function(e){return[].concat(Object(d.a)(t),Object(d.a)(o)).some((function(t){return j(a.findSection(t),e)}))};if(s.hasLab){var m=s.onlyLectures.find(l),b=s.onlyLabs.find(l),p=s.allInOnes.find(l);m&&b||p?c(i+1,o):m?m.associatedLabs.filter(u).forEach((function(e){f(e)||c(i+1,[].concat(Object(d.a)(o),[e.crn]))})):b?b.associatedLectures.filter(u).forEach((function(e){f(e)||c(i+1,[].concat(Object(d.a)(o),[e.crn]))})):(s.onlyLectures.filter(u).forEach((function(e){f(e)||e.associatedLabs.filter(u).forEach((function(t){f(t)||c(i+1,[].concat(Object(d.a)(o),[e.crn,t.crn]))}))})),s.allInOnes.filter(u).forEach((function(e){f(e)||c(i+1,[].concat(Object(d.a)(o),[e.crn]))})))}else s.sections.some(l)?c(i+1,o):Object.values(s.sectionGroups).forEach((function(e){var t=e.sections.find(u);t&&!f(t)&&c(i+1,[].concat(Object(d.a)(o),[t.crn]))}))}else r.push(o)}(),r.map((function(e){var n={},r={};return a.iterateTimeBlocks([].concat(Object(d.a)(t),Object(d.a)(e)),(function(e,t){(!(e in n)||n[e]>t.start)&&(n[e]=t.start),(!(e in r)||r[e]<t.end)&&(r[e]=t.end)})),{crns:e,startMap:n,endMap:r}}))}},{key:"sortCombinations",value:function(e,t){var n=this.sortingOptions[t];return e.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{factor:n.calculateFactor(e)})})).sort((function(e,t){return e.factor-t.factor}))}},{key:"iterateTimeBlocks",value:function(e,t){var n=this;e.forEach((function(e){n.findSection(e).meetings.forEach((function(e){return e.period&&e.days.forEach((function(n){t(n,e.period)}))}))}))}}]),e}(),me=n(125),be=n.n(me),pe=n(225),ve=n(59),he=n(226),Ee=n.n(he),ge=function(){function e(t,n,a){var r=this;Object(le.a)(this,e);var c=Object(s.a)(a,2),i=c[0],o=c[1];this.id=n;var u=this.id.split(" "),l=Object(s.a)(u,2);this.subject=l[0],this.number=l[1],this.title=i,this.sections=Object.keys(o).map((function(e){return new Oe(t,r,e,o[e])}));var d=this.sections.filter((function(e){return S(e)&&!w(e)})),f=this.sections.filter((function(e){return w(e)&&!S(e)}));if(this.hasLab=d.length&&f.length,this.hasLab){var m,b=Object(ve.a)(d);try{var p=function(){var e=m.value;e.associatedLabs=f.filter((function(t){return t.id.startsWith(e.id)}))};for(b.s();!(m=b.n()).done;)p()}catch(T){b.e(T)}finally{b.f()}var v,h=Object(ve.a)(f);try{var E=function(){var e=v.value;e.associatedLectures=d.filter((function(t){return e.id.startsWith(t.id)}))};for(h.s();!(v=h.n()).done;)E()}catch(T){h.e(T)}finally{h.f()}var g,O=d.filter((function(e){return!e.associatedLabs.length})),y=f.filter((function(e){return!e.associatedLectures.length})),C=Object(ve.a)(O);try{var N=function(){var e=g.value;e.associatedLabs=y.filter((function(t){return!j(e,t)}))};for(C.s();!(g=C.n()).done;)N()}catch(T){C.e(T)}finally{C.f()}var k,x=Object(ve.a)(y);try{var A=function(){var e=k.value;e.associatedLectures=O.filter((function(t){return!j(t,e)}))};for(x.s();!(k=x.n()).done;)A()}catch(T){x.e(T)}finally{x.f()}this.onlyLectures=d,this.onlyLabs=f,this.allInOnes=this.sections.filter((function(e){return S(e)&&w(e)}))}else this.sectionGroups=this.distinct(this.sections)}return Object(de.a)(e,[{key:"distinct",value:function(e){var t={};return e.forEach((function(e){var n=e.meetings.map((function(e){return{days:e.days,period:e.period}})),a=JSON.stringify(n),r=t[a];r?r.sections.push(e):t[a]={hash:a,meetings:n,sections:[e]}})),t}},{key:"fetchGpa",value:function(){var e=Object(pe.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://critique.gatech.edu/course.php?id=".concat(encodeURIComponent(this.id)),e.next=3,l()({url:"https://cors-anywhere.herokuapp.com/".concat(t),method:"get",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"text/html"}}).then((function(e){var t=Ee.a.load(e.data),n={averageGpa:Number(t("div.center-table > table.table > tbody > tr :nth-child(2)").text())};return t("table#dataTable > tbody > tr").each((function(e,a){var r=t(a).find("td:nth-child(1)").text().split(", "),c=Object(s.a)(r,2),i=c[0],o=c[1],u="".concat(o," ").concat(i);n[u]=Number(t(a).find("td:nth-child(3)").text())})),n}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Oe=function e(t,n,a,r){Object(le.a)(this,e);var c=Object(s.a)(r,7),i=c[0],o=c[1],u=c[2],l=c[3],f=c[4],m=c[5],p=c[6];this.course=n,this.id=a,this.crn=i,this.credits=u,this.scheduleType=t.scheduleTypes[l],this.campus=t.campuses[f];var v=m.map((function(e){return t.attributes[e]}));this.deliveryMode=v.find((function(e){return e in b})),this.gradeBasis=t.gradeBases[p],this.meetings=o.map((function(e){var n=Object(s.a)(e,5),a=n[0],r=n[1],c=n[2],i=n[3],o=n[4];return{period:t.periods[a],days:"&nbsp;"===r?[]:Object(d.a)(r),where:c,instructors:i.map((function(e){return e.replace(/ \(P\)$/,"")})),dateRange:t.dateRanges[o]}})),this.instructors=k(this.meetings.reduce((function(e,t){return[].concat(Object(d.a)(e),Object(d.a)(t.instructors))}),[]))},je=function e(t,n){Object(le.a)(this,e),this.label=t,this.calculateFactor=n};n(517);function ye(e,t){var n=Object(a.useState)(t),r=Object(s.a)(n,2),c=r[0],i=r[1],o=Object(a.useCallback)((function(t){i(t),Z.a.set(e,t,{expires:1460})}),[e,i]);return Object(a.useEffect)((function(){var n;void 0!==e&&(n=Z.a.get(e)),i(void 0===n?t:n)}),[e,t]),[c,o]}var Ce={desiredCourses:[],pinnedCrns:[],excludedCrns:[],colorMap:{},sortingOptionIndex:0};function Ne(e){var t=ye("theme","dark"),n=Object(s.a)(t,2),c=n[0],i=n[1],u=ye("term"),d=Object(s.a)(u,2),f=d[0],m=d[1],b=function(e,t){var n=ye(e),r=Object(s.a)(n,2),c=r[0],i=r[1],u=Object(a.useMemo)((function(){if(void 0!==c){var e=JSON.parse(c);return Object(o.a)(Object(o.a)({},t),e)}return t}),[c,t]),l=Object(a.useCallback)((function(e){var t=JSON.stringify(Object(o.a)(Object(o.a)({},u),e));i(t)}),[u,i]);return[u,l]}(f,Ce),p=Object(s.a)(b,2),v=p[0],h=p[1],E=Object(a.useState)([]),g=Object(s.a)(E,2),O=g[0],j=g[1],N=Object(a.useState)(null),k=Object(s.a)(N,2),w=k[0],S=k[1],x=Object(a.useState)(0),A=Object(s.a)(x,2),T=A[0],M=A[1],D=Object(a.useState)(C()),L=Object(s.a)(D,2),R=L[0],H=L[1],P=Object(a.useState)([]),Y=Object(s.a)(P,2),V=Y[0],q=Y[1],z=Object(a.useMemo)((function(){return[c,i]}),[c,i]),K=Object(a.useMemo)((function(){return[O,j]}),[O,j]),X=Object(a.useMemo)((function(){return[Object(o.a)({term:f,oscar:w},v),{setTerm:m,setOscar:S,patchTermData:h}]}),[f,w,v,m,S,h]),$=Object(a.useMemo)((function(){return[V,q]}),[V,q]);Object(a.useEffect)((function(){S(null),f&&l.a.get("https://jasonpark.me/gt-schedule-crawler/".concat(f,".json")).then((function(e){var t=new fe(e.data);S(t)}))}),[f]),Object(a.useEffect)((function(){l.a.get("https://api.github.com/repos/64json/gt-schedule-crawler/contents?ref=gh-pages").then((function(e){var t=e.data.map((function(e){return e.name})).filter((function(e){return/\d{6}\.json/.test(e)})).map((function(e){return e.replace(/\.json$/,"")})).sort().reverse();j(t)}))}),[j]),Object(a.useEffect)((function(){if(!f){var e=Object(s.a)(O,1)[0];m(e)}}),[O,f,m]),Object(a.useEffect)((function(){var e=function(e){var t=C();R!==t&&H(t)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[R]);var Z=y("App",R&&"mobile",c);return w?r.a.createElement(B.Provider,{value:z},r.a.createElement(F.Provider,{value:K},r.a.createElement(W.Provider,{value:X},r.a.createElement(U.Provider,{value:$},r.a.createElement("div",{className:Z},r.a.createElement(re,null),R&&r.a.createElement("div",{className:"tab-container"},["Courses","Combinations","Calendar"].map((function(e,t){return r.a.createElement(I,{key:e,className:y("tab",T===t&&"active"),onClick:function(){return M(t)}},e)}))),r.a.createElement("div",{className:"main"},(!R||0===T)&&r.a.createElement(J,null),(!R||1===T)&&r.a.createElement(_,null),(!R||2===T)&&r.a.createElement("div",{className:"calendar-container"},r.a.createElement(G,{className:"calendar",overlayCrns:V})))))))):r.a.createElement("div",{className:Z})}n(518),n(519);i.a.render(r.a.createElement(Ne,null),document.getElementById("root"))}},[[227,1,2]]]);
//# sourceMappingURL=main.37f317e8.chunk.js.map