(this["webpackJsonpgt-scheduler"]=this["webpackJsonpgt-scheduler"]||[]).push([[0],{279:function(e,t,a){e.exports=a(625)},301:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},415:function(e,t,a){},416:function(e,t,a){},417:function(e,t,a){},418:function(e,t,a){},419:function(e,t,a){},420:function(e,t,a){},421:function(e,t,a){},422:function(e,t,a){},424:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){},445:function(e,t){},459:function(e,t){},461:function(e,t){},622:function(e,t,a){},624:function(e,t,a){},625:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(70),r=a.n(s),o=a(5),i=a(2),l=a(38),d=a.n(l);const u=["M","T","W","R","F"],m=[["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF"],["#333333","#808080","#CCCCCC","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF"],["#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]],p={"Hybrid Course":"Hybrid","Remote Synchronous Course":"Remote Synchronous","Remote Asynchronous Course":"Remote Asynchronous","Residential Course":"Residential"},b={"Georgia Tech-Atlanta *":"Atlanta","GT Lorraine-Undergrad Programs":"Lorraine Undergrad","GT Lorraine-Graduate Programs":"Lorraine Graduate","Georgia Tech - Shenzhen":"Shenzhen",Video:"Video",Online:"Online","MBA Evening Program":"MBA Evening"},h=e=>{const t=/(\d{1,2}):(\d{2}) (a|p)m/.exec(e),a=Object(i.a)(t,4),n=a[1],c=a[2];return 60*(("p"===a[3]?12:0)+ +n%12)+ +c},f=(e,t=!0)=>{const a=e/60|0,n=a>12?a-12:a,c="".concat(e%60).padStart(2,"0"),s="".concat(a<12?"a":"p","m");return t?"".concat(n,":").concat(c," ").concat(s):"".concat(n,":").concat(c)},E=e=>e?"".concat(f(e.start,!1)," - ").concat(f(e.end)):"TBA",g=()=>{const e=m.flat();return e[Math.random()*e.length|0]},v=e=>.299*parseInt(e.substring(1,3),16)+.587*parseInt(e.substring(3,5),16)+.114*parseInt(e.substring(5,7),16)>128?"light-content":"dark-content",y=(e,t)=>e.meetings.some(e=>t.meetings.some(t=>e.period&&t.period&&u.some(a=>e.days.includes(a)&&t.days.includes(a))&&e.period.start<t.period.end&&t.period.start<e.period.end)),O=(...e)=>e.filter(e=>e).join(" "),j=()=>window.innerWidth<1024,C=e=>{const t=e.split(" ");return[t.shift(),t.pop()].join(" ")},N=e=>[...new Set(e)],k=e=>["Lab","Studio"].some(t=>e.scheduleType.includes(t)),w=e=>e.scheduleType.includes("Lecture"),x=e=>{const t=e.substring(0,4),a=(()=>{switch(Number.parseInt(e.substring(4))){case 1:return"Winter";case 2:case 3:return"Spring";case 5:case 6:return"Summer";case 8:case 9:return"Fall";default:return"Unknown"}})();return"".concat(a," ").concat(t)},S=(e,t="and")=>{if(e.length<=2)return e.join(" ".concat(t," "));const a=[...e],n=a.pop();return"".concat(a.join(", "),", ").concat(t," ").concat(n)};var A=a(72),T=(a(301),a(15));function M(e){let t=e.className,a=e.label,n=e.children,s=e.actions,r=Object(A.a)(e,["className","label","children","actions"]);return c.a.createElement("div",Object.assign({className:O("ActionRow",t)},r),c.a.createElement("div",{className:"action-row-header"},c.a.createElement("div",{className:"label"},a),c.a.createElement("div",{className:O("actions","default")},s.filter(e=>e).map((e,t)=>{let a=e.icon,n=e.dataTip,s=e.dataFor,r=e.onMouseEnter,o=e.onMouseLeave,i=Object(A.a)(e,["icon","dataTip","dataFor","onMouseEnter","onMouseLeave"]);return c.a.createElement(R,Object.assign({className:"action"},i,{key:t}),c.a.createElement(T.a,{fixedWidth:!0,icon:a,"data-tip":n,"data-for":s,onMouseEnter:r,onMouseLeave:o}))}))),n)}var L=a(274),D=a.n(L);a(308);function R({className:e,disabled:t,text:a,href:n,onClick:s,children:r}){return t?c.a.createElement("div",{className:O("Button","disabled")},r):n?c.a.createElement("a",{className:O("Button",e),href:n,rel:"noopener noreferrer",target:"_blank"},r):a?c.a.createElement(D.a,{text:a},c.a.createElement("div",{className:O("Button",e)},r)):c.a.createElement("div",{className:O("Button",e),onClick:s},r)}a(309);const I=c.a.createContext(null),F=c.a.createContext(null),B=c.a.createContext(null),W=c.a.createContext(null);function H({className:e,overlayCrns:t,preview:a,capture:s,isAutosized:r}){const o=Object(n.useContext)(B),l=Object(i.a)(o,1)[0].pinnedCrns;return c.a.createElement("div",{className:O("Calendar",s&&"capture",a&&"preview",e)},!a&&c.a.createElement("div",{className:"times"},new Array(13).fill(0).map((e,t)=>{const a=480+60*t;return c.a.createElement("div",{className:"time",key:a},c.a.createElement("span",{className:"label"},(e=>{const t=e/60|0;return"".concat(t>12?t-12:t).concat(t<12?"a":"p","m")})(a)))})),!a&&c.a.createElement("div",{className:"days"},u.map(e=>c.a.createElement("div",{className:"day",key:e},c.a.createElement("span",{className:"label"},e)))),c.a.createElement("div",{className:"meetings"},l.map(e=>c.a.createElement(me,{key:e,crn:e,preview:a,capture:s,isAutosized:r})),t&&t.filter(e=>!l.includes(e)).map(e=>c.a.createElement(me,{key:e,crn:e,overlay:!a,preview:a,capture:s}))))}var _=a(164);a(80),a(415);function G(e){const t=Object(n.useContext)(B),a=Object(i.a)(t,2),s=a[0],r=s.oscar,o=s.desiredCourses,l=s.pinnedCrns,d=s.excludedCrns,u=s.sortingOptionIndex,m=a[1].patchTermData,p=Object(n.useContext)(W),b=Object(i.a)(p,2)[1],h=Object(n.useCallback)(()=>{window.confirm("Are you sure to reset sections you selected?")&&m({pinnedCrns:[]})},[m]),f=Object(n.useMemo)(()=>r.getCombinations(o,l,d),[r,o,l,d]),E=Object(n.useMemo)(()=>r.sortCombinations(f,u),[r,f,u]);return c.a.createElement("div",{className:"CombinationContainer"},c.a.createElement(ue,{onChange:e=>m({sortingOptionIndex:e}),value:u,options:r.sortingOptions.map((e,t)=>({value:t,label:e.label}))}),c.a.createElement(R,{className:"reset",onClick:h,disabled:0===l.length},"Reset Sections"),c.a.createElement("div",{className:"scroller"},c.a.createElement(_.AutoSizer,null,({width:e,height:t})=>c.a.createElement(_.List,{width:e,height:t,style:{outline:"none"},rowCount:E.length,rowHeight:108,rowRenderer:({index:e,key:t,style:a})=>{const n=E[e].crns;return c.a.createElement("div",{className:"list-item",style:a,key:t},c.a.createElement("div",{className:"combination",onMouseEnter:()=>b(n),onMouseLeave:()=>b([]),onClick:()=>m({pinnedCrns:[...l,...n]})},c.a.createElement("div",{className:"number"},e+1),c.a.createElement(H,{className:"calendar-preview",overlayCrns:n,isAutosized:!0,preview:!0})))}}))))}var U=a(3);a(416);function q({className:e,courseId:t,onAddCourse:a}){const s=Object(n.useState)(!1),r=Object(i.a)(s,2),l=r[0],d=r[1],u=Object(n.useState)(!1),m=Object(i.a)(u,2),p=m[0],b=m[1],h=Object(n.useState)({}),f=Object(i.a)(h,2),E=f[0],g=f[1],y=Boolean(a),j=Object(n.useContext)(B),C=Object(i.a)(j,2),N=C[0],k=N.oscar,w=N.term,x=N.desiredCourses,S=N.pinnedCrns,A=N.excludedCrns,T=N.colorMap,L=C[1].patchTermData;Object(n.useEffect)(()=>{if(!y){k.findCourse(t).fetchGpa().then(g)}},[y,k,t]);const D=Object(n.useCallback)(e=>{L({desiredCourses:x.filter(t=>t!==e.id),pinnedCrns:S.filter(t=>!e.sections.some(e=>e.crn===t)),excludedCrns:A.filter(t=>!e.sections.some(e=>e.crn===t)),colorMap:Object(o.a)(Object(o.a)({},T),{},{[e.id]:void 0})})},[x,S,A,T,L]),R=Object(n.useCallback)(e=>{const t=e.map(e=>e.crn);L({excludedCrns:A.filter(e=>!t.includes(e))})},[A,L]),I=k.findCourse(t),F=T[I.id],W=F&&v(F),H={};I.sections.forEach(e=>{const t=Object(i.a)(e.instructors,1)[0],a=void 0===t?"Not Assigned":t;a in H||(H[a]=[]),H[a].push(e)});const _=Object.keys(H),G=_.filter(e=>H[e].every(e=>A.includes(e.crn))),q=_.filter(e=>!G.includes(e)),P={icon:U.j,href:"https://oscar.gatech.edu/pls/bprod/bwckctlg.p_disp_course_detail?cat_term_in=".concat(w,"&subj_code_in=").concat(I.subject,"&crse_numb_in=").concat(I.number)},Y=I.sections.filter(e=>S.includes(e.crn)),V=Y.reduce((e,t)=>e+t.credits,0);return c.a.createElement("div",{className:O("Course",W,"default",e),style:{backgroundColor:F},key:I.id},c.a.createElement(M,{label:[I.id,Y.map(e=>e.id).join(", ")].join(" "),actions:y?[{icon:U.m,onClick:a},P]:[{icon:l?U.c:U.b,onClick:()=>d(!l)},P,{icon:U.k,onClick:()=>b(!p)},{icon:U.p,onClick:()=>D(I)}]},c.a.createElement("div",{className:"course-row"},c.a.createElement("span",{className:"course-title",dangerouslySetInnerHTML:{__html:I.title}}),c.a.createElement("span",{className:"section-crns"},Y.map(e=>e.crn).join(", "))),!y&&c.a.createElement("div",{className:"course-row"},c.a.createElement("span",{className:"gpa"},"Course GPA: ",0===Object.keys(E).length?"Loading...":E.averageGpa?E.averageGpa.toFixed(2):"N/A"),V>0&&c.a.createElement("span",{className:"credits"},V," Credits")),p&&c.a.createElement(se,{className:"palette",onSelectColor:e=>L({colorMap:Object(o.a)(Object(o.a)({},T),{},{[t]:e})}),color:F,onMouseLeave:()=>b(!1)})),l&&c.a.createElement("div",{className:O("instructor-container","nested")},q.map(e=>c.a.createElement(ce,{key:e,color:F,name:e,sections:H[e],gpa:0===Object.keys(E).length?"Loading...":E[e]?E[e].toFixed(2):"N/A"})),G.length>0&&c.a.createElement("div",{className:"excluded-instructor-container"},G.map(e=>c.a.createElement("span",{className:"excluded-instructor",key:e,onClick:()=>R(H[e])},e)))))}a(417);function P({className:e}){const t=Object(n.useContext)(B),a=Object(i.a)(t,2),s=a[0],r=s.oscar,l=s.desiredCourses,d=s.excludedCrns,u=s.colorMap,m=a[1].patchTermData,h=Object(n.useState)(""),f=Object(i.a)(h,2),E=f[0],v=f[1],y=Object(n.useState)({deliveryMode:[],campus:[]}),j=Object(i.a)(y,2),C=j[0],N=j[1],k=Object(n.useState)(0),w=Object(i.a)(k,2),x=w[0],S=w[1],A=Object(n.useRef)(null),M=Object(n.useCallback)(e=>{let t=e.target.value.trim();const a=t.match(/^([A-Z]+)(\d.*)$/i);if(a){const e=Object(i.a)(a,3),n=e[1],c=e[2];t="".concat(n," ").concat(c)}v(t)},[]),L=Object(n.useMemo)(()=>{const e=/^([A-Z]+) ?((\d.*)?)$/i.exec(E.toUpperCase());if(!e)return[];const t=Object(i.a)(e,3),a=t[1],n=t[2];return S(0),r.courses.filter(e=>{const t=e.subject===a&&e.number.startsWith(n),c=Object.entries(C).every(([t,a])=>0===a.length||e.sections.some(e=>a.includes(e[t])));return t&&c}).filter(e=>!l.includes(e.id))},[r,E,C,l]),D=Object(n.useCallback)(e=>{if(l.includes(e.id))return;const t=e.sections.filter(e=>{const t="Remote Asynchronous Course"===e.deliveryMode||e.meetings.length&&e.meetings.every(e=>e.days.length&&e.period),a=Object.entries(C).every(([t,a])=>0===a.length||a.includes(e[t]));return!t||!a}).map(e=>e.crn);m({desiredCourses:[...l,e.id],excludedCrns:[...d,...t],colorMap:Object(o.a)(Object(o.a)({},u),{},{[e.id]:g()})}),v(""),A.current.focus()},[C,l,d,u,A,m]),R=Object(n.useCallback)(e=>{switch(e.key){case"Enter":const e=L[x];e&&D(e);break;case"ArrowDown":S(Math.min(x+1,L.length-1));break;case"ArrowUp":S(Math.max(x-1,0));break;default:return}e.preventDefault()},[L,D,x]),I=Object(n.useCallback)((e,t)=>{const a=C[e];N(Object(o.a)(Object(o.a)({},C),{},{[e]:a.includes(t)?a.filter(e=>e!==t):[...a,t]}))},[C]),F=Object(n.useCallback)(e=>{N(Object(o.a)(Object(o.a)({},C),{},{[e]:[]}))},[C]),W=L[x];return c.a.createElement("div",{className:O("CourseAdd",e)},c.a.createElement("div",{className:"add"},c.a.createElement("div",{className:"primary"},c.a.createElement(T.a,{className:O("icon",L.length&&"active"),fixedWidth:!0,icon:U.m}),c.a.createElement("div",{className:"keyword-wrapper"},W&&c.a.createElement("div",{className:O("keyword","autocomplete")},W.id),c.a.createElement("input",{type:"text",ref:A,value:E,onChange:M,className:"keyword",placeholder:"XX 0000",onKeyDown:R}))),[["Delivery Mode","deliveryMode",p],["Campus","campus",b]].map(([e,t,a])=>c.a.createElement(X,{key:t,name:e,labels:a,selectedTags:C[t],onReset:()=>F(t),onToggle:e=>I(t,e)}))),L.length>0?L.map(e=>c.a.createElement(q,{key:e.id,className:e===W&&"active",courseId:e.id,pinnedCrns:[],onAddCourse:()=>D(e)})):c.a.createElement("div",{className:"disclaimer"},"Disclaimer: GT Scheduler should be used as general reference only, and users are solely responsible for ensuring any information including registration restrictions."))}var Y=a(275),V=a.n(Y);a(418);function z(e){const t=Object(n.useContext)(B),a=Object(i.a)(t,1)[0],s=a.oscar,r=a.desiredCourses;return c.a.createElement("div",{className:"CourseContainer"},c.a.createElement("div",{className:"scroller"},c.a.createElement("div",{className:"course-list"},r.map(e=>c.a.createElement(q,{courseId:e,expandable:!0,key:e}))),c.a.createElement(P,{className:"course-add"})),c.a.createElement(R,{className:"updated-at",href:"https://github.com/64json/gt-schedule-crawler"},"Course data fetched ",V()(s.updatedAt)))}a(419);function X({name:e,labels:t,selectedTags:a,onReset:s,onToggle:r}){const o=Object(n.useState)(!1),l=Object(i.a)(o,2),d=l[0],u=l[1];return c.a.createElement("div",{className:"CourseFilter"},c.a.createElement("div",{className:O("header",a.length>0&&"active"),onClick:()=>u(!d)},!d&&a.length>0?c.a.createElement("div",{className:"name",dangerouslySetInnerHTML:{__html:S(a.map(e=>t[e]),'<span class="or">or</span>')}}):c.a.createElement("div",{className:"name"},e),c.a.createElement(T.a,{fixedWidth:!0,icon:d?U.c:U.b})),d&&c.a.createElement("div",{className:"tag-container"},c.a.createElement("div",{className:O("tag",0===a.length&&"active"),onClick:s},"All"),Object.keys(t).map(e=>c.a.createElement("div",{key:e,className:O("tag",a.includes(e)&&"active"),property:e,onClick:()=>r(e)},t[e]))))}a(420);var J=a(278),K=a(71),$=a.n(K),Z=a(276),Q=a.n(Z),ee=a(277),te=a.n(ee);var ae=function(e,t){if(navigator.userAgent.indexOf("MSIE")>-1&&-1===navigator.userAgent.indexOf("MSIE 10"))return void console.log("Unsupported Browser");"undefined"===typeof e&&(e="default"),"undefined"===typeof t&&(t="Calendar");const a=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",n=[],c=["BEGIN:VCALENDAR","PRODID:".concat(t),"VERSION:2.0"].join(a),s="".concat(a,"END:VCALENDAR"),r=["SU","MO","TU","WE","TH","FR","SA"];return{events:()=>n,calendar:()=>c+a+n.join(a)+s,addEvent(t,c,s,o,i,l){if("undefined"===typeof t||"undefined"===typeof c||"undefined"===typeof s||"undefined"===typeof o||"undefined"===typeof i)return!1;if(l&&!l.rrule){if("YEARLY"!==l.freq&&"MONTHLY"!==l.freq&&"WEEKLY"!==l.freq&&"DAILY"!==l.freq)throw new Error("Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'");if(l.until&&isNaN(Date.parse(l.until)))throw new Error("Recurrence rrule 'until' must be a valid date string");if(l.interval&&isNaN(parseInt(l.interval)))throw new Error("Recurrence rrule 'interval' must be an integer");if(l.count&&isNaN(parseInt(l.count)))throw new Error("Recurrence rrule 'count' must be an integer");if("undefined"!==typeof l.byday){if("[object Array]"!==Object.prototype.toString.call(l.byday))throw new Error("Recurrence rrule 'byday' must be an array");if(l.byday.length>7)throw new Error("Recurrence rrule 'byday' array must not be longer than the 7 days in a week");l.byday=l.byday.filter((function(e,t){return l.byday.indexOf(e)===t}));for(const e in l.byday)if(r.indexOf(l.byday[e])<0)throw new Error("Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'")}}const d=new Date(o),u=new Date(i),m=new Date,p="0000".concat(d.getFullYear().toString()).slice(-4),b="00".concat((d.getMonth()+1).toString()).slice(-2),h="00".concat(d.getDate().toString()).slice(-2),f="00".concat(d.getHours().toString()).slice(-2),E="00".concat(d.getMinutes().toString()).slice(-2),g="00".concat(d.getSeconds().toString()).slice(-2),v="0000".concat(u.getFullYear().toString()).slice(-4),y="00".concat((u.getMonth()+1).toString()).slice(-2),O="00".concat(u.getDate().toString()).slice(-2),j="00".concat(u.getHours().toString()).slice(-2),C="00".concat(u.getMinutes().toString()).slice(-2),N="00".concat(u.getSeconds().toString()).slice(-2),k="0000".concat(m.getFullYear().toString()).slice(-4),w="00".concat((m.getMonth()+1).toString()).slice(-2),x="00".concat(m.getDate().toString()).slice(-2),S="00".concat(m.getHours().toString()).slice(-2),A="00".concat(m.getMinutes().toString()).slice(-2),T="00".concat(m.getSeconds().toString()).slice(-2);let M="",L="";f+E+g+j+C+N!==0&&(M="T".concat(f).concat(E).concat(g),L="T".concat(j).concat(C).concat(N));const D=p+b+h+M,R=v+y+O+L,I=k+w+x+"T".concat(S).concat(A).concat(T);let F;if(l)if(l.rrule)F=l.rrule;else{if(F="RRULE:FREQ=".concat(l.freq),l.until){const e=new Date(Date.parse(l.until)).toISOString();F+=";UNTIL=".concat(e.substring(0,e.length-13).replace(/[-]/g,""),"000000Z")}l.interval&&(F+=";INTERVAL=".concat(l.interval)),l.count&&(F+=";COUNT=".concat(l.count)),l.byday&&l.byday.length>0&&(F+=";BYDAY=".concat(l.byday.join(",")))}let B=["BEGIN:VEVENT","UID:".concat(n.length,"@").concat(e),"CLASS:PUBLIC","DESCRIPTION:".concat(c),"DTSTAMP;VALUE=DATE-TIME:".concat(I),"DTSTART;VALUE=DATE-TIME:".concat(D),"DTEND;VALUE=DATE-TIME:".concat(R),"LOCATION:".concat(s),"SUMMARY;LANGUAGE=en-us:".concat(t),"TRANSP:TRANSPARENT","END:VEVENT"];return F&&B.splice(4,0,F),B=B.join(a),n.push(B),B},download(e,t){if(n.length<1)return!1;t="undefined"!==typeof t?t:".ics",e="undefined"!==typeof e?e:"calendar";const r=c+a+n.join(a)+s;let o;if(-1===navigator.userAgent.indexOf("MSIE 10"))o=new Blob([r]);else{const e=new BlobBuilder;e.append(r),o=e.getBlob("text/x-vCalendar;charset=".concat(document.characterSet))}return saveAs(o,e+t),r},build(){if(n.length<1)return!1;return c+a+n.join(a)+s}}};function ne(e){const t=Object(n.useContext)(B),a=Object(i.a)(t,2),s=a[0],r=s.term,o=s.oscar,l=s.pinnedCrns,d=a[1].setTerm,u=Object(n.useContext)(F),m=Object(i.a)(u,1)[0],p=Object(n.useContext)(I),b=Object(i.a)(p,2),h=b[0],f=b[1],E=Object(n.useRef)(null),g=Object(n.useCallback)(()=>{const e="light"===h?"dark":"light";$.a.set("theme",e,{expires:1460}),f(e)},[h,f]),v=Object(n.useMemo)(()=>l.reduce((e,t)=>e+o.findSection(t).credits,0),[l,o]),y=Object(n.useCallback)(()=>{const e=ae();l.forEach(t=>{const a=o.findSection(t);a.meetings.forEach(t=>{if(!t.period||!t.days.length)return;const n=t.dateRange,c=n.from,s=n.to,r=a.course.id,o=a.course.title,i=t.where,l=new Date(c.getTime());for(;!t.days.includes(["-","M","T","W","R","F","-"][l.getDay()]);)l.setDate(l.getDate()+1);l.setHours(t.period.start/60|0,t.period.start%60);const d=new Date(l.getTime());d.setHours(t.period.end/60|0,t.period.end%60);const u={freq:"WEEKLY",until:s,byday:t.days.map(e=>({M:"MO",T:"TU",W:"WE",R:"TH",F:"FR"}[e]))};e.addEvent(r,o,i,l,d,u)})}),e.download("gt-scheduler")},[o,l]),O=Object(n.useCallback)(()=>{const e=E.current;Q.a.toPng(e,{width:2*e.offsetWidth,height:2*e.offsetHeight,style:{left:0,transform:"scale(".concat(2,")"),"transform-origin":"top left"}}).then(e=>te()(e,"schedule.png"))},[E]);return c.a.createElement("div",{className:"Header"},c.a.createElement(R,{className:"logo"},c.a.createElement("span",{className:"gt"},"GT "),c.a.createElement("span",{className:"scheduler"},"Scheduler")),c.a.createElement(ue,{onChange:d,value:r,options:m.map(e=>({value:e,label:x(e)})),className:"semester"}),c.a.createElement("span",{className:"credits"},v," Credits"),c.a.createElement("div",{className:"menu"},c.a.createElement(R,{onClick:O,disabled:0===l.length},c.a.createElement(T.a,{className:"icon",fixedWidth:!0,icon:U.h}),c.a.createElement("div",{className:"text"},"Download")),c.a.createElement(R,{onClick:y,disabled:0===l.length},c.a.createElement(T.a,{className:"icon",fixedWidth:!0,icon:U.e}),c.a.createElement("div",{className:"text"},"Export")),c.a.createElement(R,{text:l.join(", "),disabled:0===l.length},c.a.createElement(T.a,{className:"icon",fixedWidth:!0,icon:U.l}),c.a.createElement("div",{className:"text"},"CRNs")),c.a.createElement(R,{onClick:g},c.a.createElement(T.a,{className:"icon",fixedWidth:!0,icon:U.a}),c.a.createElement("div",{className:"text"},"Theme")),c.a.createElement(R,{href:"https://github.com/64json/gt-scheduler"},c.a.createElement(T.a,{className:"icon",fixedWidth:!0,icon:J.a}),c.a.createElement("div",{className:"text"},"GitHub"))),c.a.createElement("div",{className:"capture-container",ref:E},c.a.createElement(H,{className:"fake-calendar",capture:!0})))}a(421);function ce({className:e,color:t,name:a,sections:s,gpa:r}){const o=Object(n.useContext)(B),l=Object(i.a)(o,2),d=l[0],u=d.pinnedCrns,m=d.excludedCrns,p=l[1].patchTermData,b=Object(n.useState)(!0),h=Object(i.a)(b,2),f=h[0],E=h[1],g=Object(n.useCallback)(e=>{p({excludedCrns:m.filter(t=>t!==e.crn)})},[m,p]),v=Object(n.useCallback)(e=>{const t=e.map(e=>e.crn);p({excludedCrns:N([...m,...t]),pinnedCrns:u.filter(e=>!t.includes(e))})},[m,u,p]),y=s.some(e=>u.includes(e.crn)),j=s.filter(e=>!m.includes(e.crn)),k=s.filter(e=>m.includes(e.crn));return c.a.createElement("div",{className:O("Instructor",!f&&"divider-bottom",e)},c.a.createElement(M,{label:a||"Not Assigned",actions:[{icon:f?U.c:U.b,onClick:()=>E(!f)},!["TBA","Not Assigned"].includes(a)&&{icon:U.i,href:"http://www.ratemyprofessors.com/search.jsp?queryBy=teacherName&schoolName=Georgia+Institute+of+Technology&query=".concat(encodeURIComponent(C(a)))},{icon:U.d,onClick:()=>v(s)}],style:y?{backgroundColor:t}:void 0},c.a.createElement("div",{className:"instructor-row"},c.a.createElement("span",{className:"gpa"},"Instructor GPA: ",r||"N/A"))),f&&c.a.createElement("div",{className:O("section-container","nested")},j.map(e=>{const a=u.includes(e.crn);return c.a.createElement(de,{key:e.id,className:"divider-bottom",section:e,color:t,pinned:a})}),k.length>0&&c.a.createElement("div",{className:"excluded-section-container"},k.map(e=>c.a.createElement("span",{className:"excluded-section",key:e.id,onClick:()=>g(e)},e.id)))))}a(422);function se(e){let t=e.className,a=e.color,n=e.onSelectColor,s=Object(A.a)(e,["className","color","onSelectColor"]);return c.a.createElement("div",Object.assign({className:O("Palette",t)},s),m.map((e,t)=>c.a.createElement("div",{className:"palette-row",key:t},e.map(e=>c.a.createElement("div",{className:O("color",e===a&&"frame"),key:e,style:{backgroundColor:e},onClick:()=>n(e)})))))}var re=a(28),oe=a.n(re),ie=a(48),le=a(102);a(424);function de({className:e,section:t,pinned:a,color:s}){const r=Object(n.useContext)(B),o=Object(i.a)(r,2),l=o[0],d=l.term,u=l.pinnedCrns,m=l.excludedCrns,b=o[1].patchTermData,h=Object(n.useContext)(W),f=Object(i.a)(h,2)[1],g=Object(n.useState)([[],[]]),v=Object(i.a)(g,2),y=v[0],j=v[1];let C=!1;const N=Object(n.useCallback)(e=>{b({excludedCrns:[...m,e.crn],pinnedCrns:u.filter(t=>t!==e.crn)})},[u,m,b]),k=Object(n.useCallback)(e=>{u.includes(e.crn)?b({pinnedCrns:u.filter(t=>t!==e.crn)}):b({pinnedCrns:[...u,e.crn],excludedCrns:m.filter(t=>t!==e.crn)})},[u,m,b]);return c.a.createElement(M,{label:t.id,className:O("Section",e),onMouseEnter:()=>f([t.crn]),onMouseLeave:()=>f([]),actions:[{icon:a?U.o:U.n,onClick:()=>k(t)},{icon:U.g,dataTip:!0,dataFor:t.id,href:"https://oscar.gatech.edu/pls/bprod/bwckschd.p_disp_detail_sched?term_in=".concat(d,"&crn_in=").concat(t.crn)},{icon:U.d,onClick:()=>N(t)}],style:a?{backgroundColor:s}:void 0},c.a.createElement("div",{className:"section-details"},c.a.createElement("div",{className:"delivery-mode"},p[t.deliveryMode]),c.a.createElement("div",{className:"meeting-container"},t.meetings.map((e,t)=>c.a.createElement("div",{className:"meeting",key:t},c.a.createElement("span",{className:"days"},e.days.join("")),c.a.createElement("span",{className:"period"},E(e.period))))),c.a.createElement(le.a,{id:t.id,className:"tooltip",type:"dark",place:"right",effect:"solid",afterShow:()=>(C=!0,void setTimeout(Object(ie.a)(oe.a.mark((function e(){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=6;break}return e.t0=j,e.next=4,t.fetchSeating(d);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)}))),333)),afterHide:()=>C=!1},c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("b",null,"Seats Filled")),c.a.createElement("td",null,0===y[0].length?"Loading...":"number"===typeof y[0][1]?"".concat(y[0][1]," of ").concat(y[0][0]):"N/A")),c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("b",null,"Waitlist Filled")),c.a.createElement("td",null,0===y[0].length?"Loading...":"number"===typeof y[0][1]?"".concat(y[0][3]," of ").concat(y[0][2]):"N/A")))))))}a(425);function ue({className:e,value:t,onChange:a,options:s}){const r=Object(n.useState)(!1),o=Object(i.a)(r,2),l=o[0],d=o[1],u=s.find(e=>e.value===t),m=u?u.label:"-";return c.a.createElement("div",{className:O("Button","Select",e),onClick:()=>d(!l)},c.a.createElement("div",{className:"text"},m),c.a.createElement(T.a,{fixedWidth:!0,icon:U.f}),l&&c.a.createElement("div",{className:"intercept",onClick:()=>d(!1)}),l&&c.a.createElement("div",{className:"option-container"},s.map(({value:e,label:t})=>c.a.createElement(R,{className:"option",key:e,onClick:()=>a(e)},t))))}a(426);function me({className:e,crn:t,overlay:a,preview:s,capture:r,isAutosized:o}){const l=Object(n.useContext)(B),d=Object(i.a)(l,1)[0],u=d.oscar,m=d.colorMap,p=u.findSection(t),b=m[p.course.id],h=v(b);return c.a.createElement("div",{className:O("TimeBlocks",r&&"capture",a&&"overlay",e)},p.meetings.map((e,a)=>e.period&&e.days.map(n=>c.a.createElement("div",{className:O("meeting",h,"default",n),key:[a,n].join("-"),style:{top:"".concat((e.period.start-480)/780*100,"%"),height:"".concat((e.period.end-e.period.start)/780*100,"%"),backgroundColor:b},"data-tip":!0,"data-for":t},!s&&c.a.createElement("div",{className:"meeting-wrapper"},c.a.createElement("div",{className:"ids"},c.a.createElement("span",{className:"course-id"},p.course.id),c.a.createElement("span",{className:"section-id"},"\xa0",p.id)),c.a.createElement("span",{className:"period"},E(e.period)),c.a.createElement("span",{className:"where"},e.where),c.a.createElement("span",{className:"instructors"},e.instructors.join(", ")))))),!o&&c.a.createElement(le.a,{id:t,className:"tooltip",type:"dark",place:"top",effect:"solid"},c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("b",null,"Course Name")),c.a.createElement("td",null,p.course.title)),c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("b",null,"Delivery Type")),c.a.createElement("td",null,p.deliveryMode)),c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("b",null,"Course Number")),c.a.createElement("td",null,p.crn)),c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("b",null,"Credit Hours")),c.a.createElement("td",null,p.credits))))))}var pe=class{constructor(e){const t=e.courses,a=e.caches,n=e.updatedAt;this.periods=a.periods.map(e=>{if("TBA"!==e)return{start:h(e.split(" - ")[0]),end:h(e.split(" - ")[1])}}),this.dateRanges=a.dateRanges.map(e=>{const t=e.split(" - ").map(e=>new Date(e)),a=Object(i.a)(t,2),n=a[0],c=a[1];return n.setHours(0),c.setHours(23,59,59,999),{from:n,to:c}}),this.scheduleTypes=a.scheduleTypes,this.campuses=a.campuses,this.attributes=a.attributes,this.gradeBases=a.gradeBases,this.updatedAt=new Date(n),this.courses=Object.keys(t).map(e=>new Ee(this,e,t[e])),this.courseMap={},this.crnMap={},this.courses.forEach(e=>{this.courseMap[e.id]=e,e.sections.forEach(e=>{this.crnMap[e.crn]=e})}),this.sortingOptions=[new ve("Most Compact",e=>{const t=e.startMap,a=e.endMap;return+Object.keys(t).map(e=>a[e]-t[e]).reduce((e,t)=>e+t,0)}),new ve("Earliest Ending",e=>{const t=e.endMap,a=Object.values(t);return+(a.reduce((e,t)=>e+t,0)/a.length)}),new ve("Latest Beginning",e=>{const t=e.startMap,a=Object.values(t);return-(a.reduce((e,t)=>e+t,0)/a.length)})]}findCourse(e){return this.courseMap[e]}findSection(e){return this.crnMap[e]}getCombinations(e,t,a){const n=[],c=(s=0,r=[])=>{if(s===e.length)return void n.push(r);const o=this.findCourse(e[s]),i=e=>!a.includes(e.crn),l=e=>t.includes(e.crn),d=e=>[...t,...r].some(t=>y(this.findSection(t),e));if(o.hasLab){const e=o.onlyLectures.find(l),t=o.onlyLabs.find(l),a=o.allInOnes.find(l);e&&t||a?c(s+1,r):e?e.associatedLabs.filter(i).forEach(e=>{d(e)||c(s+1,[...r,e.crn])}):t?t.associatedLectures.filter(i).forEach(e=>{d(e)||c(s+1,[...r,e.crn])}):(o.onlyLectures.filter(i).forEach(e=>{d(e)||e.associatedLabs.filter(i).forEach(t=>{d(t)||c(s+1,[...r,e.crn,t.crn])})}),o.allInOnes.filter(i).forEach(e=>{d(e)||c(s+1,[...r,e.crn])}))}else o.sections.some(l)?c(s+1,r):Object.values(o.sectionGroups).forEach(e=>{const t=e.sections.find(i);t&&!d(t)&&c(s+1,[...r,t.crn])})};return c(),n.map(e=>{const a={},n={};return this.iterateTimeBlocks([...t,...e],(e,t)=>{(!(e in a)||a[e]>t.start)&&(a[e]=t.start),(!(e in n)||n[e]<t.end)&&(n[e]=t.end)}),{crns:e,startMap:a,endMap:n}})}sortCombinations(e,t){const a=this.sortingOptions[t];return e.map(e=>Object(o.a)(Object(o.a)({},e),{},{factor:a.calculateFactor(e)})).sort((e,t)=>e.factor-t.factor)}iterateTimeBlocks(e,t){e.forEach(e=>{this.findSection(e).meetings.forEach(e=>e.period&&e.days.forEach(a=>{t(a,e.period)}))})}},be=a(73),he=a(101),fe=a.n(he);var Ee=class{constructor(e,t,a){const n=Object(i.a)(a,2),c=n[0],s=n[1];this.id=t;var r=this.id.split(" "),o=Object(i.a)(r,2);this.subject=o[0],this.number=o[1],this.title=c,this.sections=Object.keys(s).map(t=>new ge(e,this,t,s[t]));const l=this.sections.filter(e=>w(e)&&!k(e)),d=this.sections.filter(e=>k(e)&&!w(e));if(this.hasLab=l.length&&d.length,this.hasLab){var u,m=Object(be.a)(l);try{for(m.s();!(u=m.n()).done;){const e=u.value;e.associatedLabs=d.filter(t=>t.id.startsWith(e.id))}}catch(v){m.e(v)}finally{m.f()}var p,b=Object(be.a)(d);try{for(b.s();!(p=b.n()).done;){const e=p.value;e.associatedLectures=l.filter(t=>e.id.startsWith(t.id))}}catch(v){b.e(v)}finally{b.f()}const e=l.filter(e=>!e.associatedLabs.length),t=d.filter(e=>!e.associatedLectures.length);var h,f=Object(be.a)(e);try{for(f.s();!(h=f.n()).done;){const e=h.value;e.associatedLabs=t.filter(t=>!y(e,t))}}catch(v){f.e(v)}finally{f.f()}var E,g=Object(be.a)(t);try{for(g.s();!(E=g.n()).done;){const t=E.value;t.associatedLectures=e.filter(e=>!y(e,t))}}catch(v){g.e(v)}finally{g.f()}this.onlyLectures=l,this.onlyLabs=d,this.allInOnes=this.sections.filter(e=>w(e)&&k(e))}else this.sectionGroups=this.distinct(this.sections)}distinct(e){const t={};return e.forEach(e=>{const a=e.meetings.map(({days:e,period:t})=>({days:e,period:t})),n=JSON.stringify(a),c=t[n];c?c.sections.push(e):t[n]={hash:n,meetings:a,sections:[e]}}),t}fetchGpa(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="https://critique.gatech.edu/course.php?id=".concat(encodeURIComponent(e.id)),t.next=3,d()({url:"https://cors-anywhere.herokuapp.com/".concat(a),method:"get",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"text/html"}}).then(e=>{const t=fe.a.load(e.data),a={averageGpa:Number(t("div.center-table > table.table > tbody > tr :nth-child(2)").text())};return t("table#dataTable > tbody > tr").each((e,n)=>{const c=t(n).find("td:nth-child(1)").text().split(", "),s=Object(i.a)(c,2),r=s[0],o=s[1],l="".concat(o," ").concat(r);a[l]=Number(t(n).find("td:nth-child(3)").text())}),a});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}};var ge=class{constructor(e,t,a,n){const c=Object(i.a)(n,7),s=c[0],r=c[1],o=c[2],l=c[3],d=c[4],u=c[5],m=c[6];this.course=t,this.id=a,this.crn=s,this.seating=[[],0],this.credits=o,this.scheduleType=e.scheduleTypes[l],this.campus=e.campuses[d];const b=u.map(t=>e.attributes[t]);this.deliveryMode=b.find(e=>e in p),this.gradeBasis=e.gradeBases[m],this.meetings=r.map(([t,a,n,c,s])=>({period:e.periods[t],days:"&nbsp;"===a?[]:[...a],where:n,instructors:c.map(e=>e.replace(/ \(P\)$/,"")),dateRange:e.dateRanges[s]})),this.instructors=N(this.meetings.reduce((e,t)=>[...e,...t.instructors],[]))}fetchSeating(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var n,c,s;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.seating[1],!((c=Date.now())-n>3e5)){a.next=9;break}return s="https://oscar.gatech.edu/pls/bprod/"+"bwckschd.p_disp_detail_sched?term_in=".concat(e)+"&crn_in=".concat(t.crn),a.next=6,d()({url:"https://cors-anywhere.herokuapp.com/".concat(s),method:"get",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"text/html"}}).then(e=>{const a=fe.a.load(e.data)(".datadisplaytable .datadisplaytable").find("tr");return t.seating=[[parseInt(a.eq(1).children("td").first().text(),10),parseInt(a.eq(1).children("td").eq(1).text(),10),parseInt(a.eq(2).children("td").first().text(),10),parseInt(a.eq(2).children("td").eq(1).text(),10)],c],t.seating}).catch(()=>[new Array(4).fill("N/A"),c]);case 6:return a.abrupt("return",a.sent);case 9:return a.abrupt("return",t.seating);case 10:case"end":return a.stop()}}),a)})))()}};var ve=class{constructor(e,t){this.label=e,this.calculateFactor=t}};a(622);function ye(e,t){const a=Object(n.useState)(t),c=Object(i.a)(a,2),s=c[0],r=c[1],o=Object(n.useCallback)(t=>{r(t),$.a.set(e,t,{expires:1460})},[e,r]);return Object(n.useEffect)(()=>{let a;void 0!==e&&(a=$.a.get(e)),r(void 0===a?t:a)},[e,t]),[s,o]}const Oe={desiredCourses:[],pinnedCrns:[],excludedCrns:[],colorMap:{},sortingOptionIndex:0};function je(e){const t=ye("theme","dark"),a=Object(i.a)(t,2),s=a[0],r=a[1],l=ye("term"),u=Object(i.a)(l,2),m=u[0],p=u[1],b=function(e,t){const a=ye(e),c=Object(i.a)(a,2),s=c[0],r=c[1],l=Object(n.useMemo)(()=>{if(void 0!==s){const e=JSON.parse(s);return Object(o.a)(Object(o.a)({},t),e)}return t},[s,t]),d=Object(n.useCallback)(e=>{const t=JSON.stringify(Object(o.a)(Object(o.a)({},l),e));r(t)},[l,r]);return[l,d]}(m,Oe),h=Object(i.a)(b,2),f=h[0],E=h[1],g=Object(n.useState)([]),v=Object(i.a)(g,2),y=v[0],C=v[1],N=Object(n.useState)(null),k=Object(i.a)(N,2),w=k[0],x=k[1],S=Object(n.useState)(0),A=Object(i.a)(S,2),T=A[0],M=A[1],L=Object(n.useState)(j()),D=Object(i.a)(L,2),_=D[0],U=D[1],q=Object(n.useState)([]),P=Object(i.a)(q,2),Y=P[0],V=P[1],X=Object(n.useMemo)(()=>[s,r],[s,r]),J=Object(n.useMemo)(()=>[y,C],[y,C]),K=Object(n.useMemo)(()=>[Object(o.a)({term:m,oscar:w},f),{setTerm:p,setOscar:x,patchTermData:E}],[m,w,f,p,x,E]),$=Object(n.useMemo)(()=>[Y,V],[Y,V]);Object(n.useEffect)(()=>{x(null),m&&d.a.get("https://jasonpark.me/gt-schedule-crawler/".concat(m,".json")).then(e=>{const t=new pe(e.data);x(t)})},[m]),Object(n.useEffect)(()=>{d.a.get("https://api.github.com/repos/64json/gt-schedule-crawler/contents?ref=gh-pages").then(e=>{const t=e.data.map(e=>e.name).filter(e=>/\d{6}\.json/.test(e)).map(e=>e.replace(/\.json$/,"")).sort().reverse();C(t)})},[C]),Object(n.useEffect)(()=>{if(!m){const e=Object(i.a)(y,1)[0];p(e)}},[y,m,p]),Object(n.useEffect)(()=>{const e=e=>{const t=j();_!==t&&U(t)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[_]);const Z=O("App",_&&"mobile",s);return w?c.a.createElement(I.Provider,{value:X},c.a.createElement(F.Provider,{value:J},c.a.createElement(B.Provider,{value:K},c.a.createElement(W.Provider,{value:$},c.a.createElement("div",{className:Z},c.a.createElement(ne,null),_&&c.a.createElement("div",{className:"tab-container"},["Courses","Combinations","Calendar"].map((e,t)=>c.a.createElement(R,{key:e,className:O("tab",T===t&&"active"),onClick:()=>M(t)},e))),c.a.createElement("div",{className:"main"},(!_||0===T)&&c.a.createElement(z,null),(!_||1===T)&&c.a.createElement(G,null),(!_||2===T)&&c.a.createElement("div",{className:"calendar-container"},c.a.createElement(H,{className:"calendar",overlayCrns:Y})))))))):c.a.createElement("div",{className:Z})}a(623),a(624);r.a.render(c.a.createElement(je,null),document.getElementById("root"))}},[[279,1,2]]]);
//# sourceMappingURL=main.84c14002.chunk.js.map